<template>
  <div class="agreement_box">
    <!-- <h1 class="info_title"><strong>借款服务合同</strong></h1>

    <h2 class="ag_title">提示条款：</h2>
    <p class="ag_content mt30">
    （1）借款人承诺本合同专用条款的全部信息真实、准确。
    </p>

    <h3 class="ag_title">第一条 名词解释</h3>
    <p class="ag_content">
      1.1 借款人：是指“专用条款”中列明的、通过睿绪公司申请借款的自然人。
    </p> -->
    <div class="ag_content">
      <h1 class="info_title"><strong>用户借款服务协议</strong></h1>
      <h3 class="ag_title">
        编号：<br>

        甲方（借款人）：{{ list.real_name }}<br>

        身份证号码：{{ list.id_card }}<br>

        手机号：{{ userInfo.mobile }}<br>

        借款申请发起地(借款申请发起人所在地)： {{ list.province }}<br>

        借款申请发起日期： {{ dateTime }}<br>
        乙方（出借方）：恒享借
      </h3><br>
      鉴于：<br>
      甲方有借款需求；甲方同意接受乙方的服务并与乙方达成协议如下：<br>

      1、《借款申请》是指本申请（以下简称“申请”），其全部内容由借款人通过互联网（或移动互联网），使用应用系统软件，包括但不限于手机软件（下称App）等，以点击“确认”按钮的方式视为认可并签署，并严格受其约束行使权利、履行义务。<br>

      2、借款人（借款申请人）是指已在本服务平台注册并符合中华人民共和国法律规定的具有完全民事权利能力和民事行为能力，独立行使和承担本申请项下权利义务的个体。<br>

      3、出借人是指本申请中列明的符合中华人民共和国法律规定的具有完全民事权利能力和民事行为能力，独立行使和承担本协议项下权利义务的个体，出借人可接受本申请，并向借款人出借相应的借款金额，获得本申请项下约定的相关借款的债权权利。<br>

      4、本服务平台是借款人在互联网（或移动互联网）上公开发布本申请所使用的媒介服务系统软件，由符合国家法律规定的，依法存续的有限责任公司所有，并委托独立第三方技术服务公司代为运营，本服务平台的运营方式包括但不限于手机App、PC软件等。<br>

      5、工作日是指除国家法定节假日、公休日以外的任何一日。<br><br>

      <h2 class="ag_title">第一条 借款申请内容<br></h2>

      1、借款人确认在本申请中，向可能存在的出借人发出借款申请，借款金额、期限、到期还款总金额、借款用途等详见下表（借款申请信息），并在出借人接受本申请，提供借款使借贷关系成立后，按照本申请的约定行使各项权利义务，并承担己方违反本申请后造成的各种责任。<br>

      2、有意愿接受本申请，并出借相应款项的出借人亦应确认并同意本申请载明的各项约定，并按照申请的约定行使各项权利义务，并承担己方违反本申请造成的各种责任；否则应放弃接受本申请，放弃出借资金给借款人。<br>

      3、借款期限是指起息日起至还款日之间的期间。<br>

      4、还款日以实际起息日和借款期限计算得到。<br>

      借款申请信息<br>
      借款金额（大写）<br>
      借款期限（天）<br>
      起息日		还款日<br>
      到期还款金额（大写）<br>
      借款人收款银行卡账户<br>
      借款用途	（1）购买本会员服务<br>
      （2）其他消费购物用途<br><br>


      <h3 class="ag_title">第一条、释义<br></h3>

      1.利息：指甲方借用乙方的资金，应向乙方支付的利息。

      2.服务费：指乙方为甲方提供的借款服务，并在甲方借款过程中协助其审核以及提供还款提醒等服务而由甲方支付给乙方的报酬。

      3.咨询费：指乙方为甲方提供借款服务，并在甲方借款过程中提供进度查询以及解答甲方提出的与本次借款相关的问题的服务费用。

      4.提现费：指乙方向甲方转账时由银行或支付机构收取的手续费。

      5.违约金：指甲方未能按合同约定履行还款义务，造成合同违约，甲方应向乙方支付的费用，若甲方没有违约则不需要向乙方支付该笔费用。

      6.罚息：指甲方未能按合同约定履行还款义务，造成合同违约，甲方应向乙方支付的费用，若甲方没有违约则不需要向乙方支付该笔费用。

      7.支付机构：指在借款人及本协议各方之间作为中介机构提供资金转移服务的银行或金融机构。


      <h3 class="ag_title">第二条、甲方的权利及义务<br></h3>

      1.甲方在借款过程中，应如实向乙方提供必要的个人信息。

      2.甲方同意乙方或乙方合作机构在甲方未按时履行还款义务时，使用甲方提供的信息提醒或督促甲方履行还款义务。

      3.《用户借款服务协议》生效后，甲方应履行《用户借款服务协议》约定的还款义务。

      4.借款期内，甲方提前还款的，乙方利息、服务费、咨询费、提现费不予减免。

      5.按本合同所约定之期限一次性偿还《用户借款服务协议》中所约定的本金、利息及各项费用，甲方部分还款、任何到期未一次性偿还清的行为均视为全部逾期还款。

      6.借款期满时，甲方同意并授权乙方通过第三方支付公司或银行等金融机构，从甲方在本平台指定的银行账户中将到期应付金额（含借款本息及各项费用）一次性全部划拨到乙方在第三方支付的专用账户，乙方委托乙方收取相应款项。甲方应该按照需支付的金额与到期日前在指定的银行卡内存入足够的款项，由于挂失、账户冻结、金额不足等原因造成扣款失败而导致损失的，由甲方自行承担后果。

      7.甲方同意，如甲方在履行《用户借款服务协议》的过程中存在违约情形，乙方可将甲方不良信息予以公开披露或向征信机构提供。


      <h3 class="ag_title">第三条、乙方的权利和义务<br></h3>

      1.乙方须为甲方提供借款，并在甲方申请借款服务过程中协助其审核以及提供还款提醒等服务。

      2.乙方依据本协议向甲方收取费用，收费方式包括前置收费/后置收费。

      3.对于甲方在接受服务时向乙方提供的个人资料及其它各类信息，乙方应依法为甲方保密，但乙方为促成《用户借款服务协议》签订，向第三方提供的除外。


      <h3 class="ag_title">第四条、费用及支付方式<br></h3>

      1.甲方本次借款本金为人民币#{AuditAmount}元，借款期限为#{LoanLong}天，应付利息为人民币#{Interest}元。

      2.本次借款付服务费人民币#{ServiceFee}元，咨询费人民币#{ConsultFee}元，提现费人民币#{CheckRate}元。

      3.若甲方逾期的，甲方应支付逾期违约金和逾期罚息，逾期违约金=借款本金x#{penaltyRate}%x实际逾期天数，逾期罚息=借款本金x#{punitiveRate}%x实际逾期天数。

      #[SKXStart]4.以上费用中利息、服务费、咨询费、提现费从甲方获得借款金额中扣除，甲方实际收到的是本次借款金额扣除利息、服务费、咨询费、提现费之后的金额，在约定还款日#{EndDate}当天甲方应全额偿还该笔借款的本金。#[SKXEnd]#[DQHBStart]4.以上费用中的借款本金、利息、服务费、咨询费、提现费，甲方应在约定还款日#{EndDate}当天全额偿还。#[DQHBEnd]


      <h3 class="ag_title">第五条、甲方指定账户的变更<br></h3>

      1.甲方须确保在本平台指定的收款账户为甲方名下合法有效的银行账户。如果甲方需要变更指定还款账户，须在还款日前至少5个工作日向乙方书面提出申请。否则甲方应承担因此而产生的未及时还款的责任。

      2.在还款过程中，甲方有义务配合乙方为保证还款而进行的包括但不限于账户验证、账户变更、身份验证等事项，因甲方不配合而造成的未能正常还款的违约责任，概由甲方承担。

      3.在征得乙方同意的特殊情形下，甲方可以以电话方式向乙方申请变更其指定还款账户，并配合乙方为保证还款而进行的包括但不限于账户验证、账户变更、身份验证等事项，否则甲方须承担因此而产生的未及时还款或其他未能正常还款的违约责任。


      <h3 class="ag_title">第六条、违约责任<br></h3>

      1.任何一方违反本协议的约定，导致本协议的全部或部分不能履行，均应承担违约责任，并赔偿守约方因此遭受的损失；如双方均违约，根据实际情况各自承担相应的责任。

      2.因甲方未按本协议约定及时还款而导致乙方发生的贷后费用，包括但不限于调整费用、仲裁费用、律师费用及委托其他公民仲裁所产生的差旅费用等，概由甲方承担。

      3.用户如通过本产品进行借款，应当依据《用户借款服务协议》中约定进行还款，用户同意并授权本公司和第三方机构通过电话、短信、微信、手机应用通知、发律师函、上门等途径对用户进行服务与还款提醒。

      4.若用户发生逾期还款行为，用户同意并授权本公司将用户个人资料信息提供给第三方机构进行合法维权，由第三方机构告知用户联系人《用户借款服务协议》的内容并请求用户联系人向用户转达违约提醒信息，用户同意并授权本公司及为本公司提供服务的第三方机构向用户联系人通过电话、短信、微信、发律师函、上门等途径转达用户的违约提醒信息。

      5.用户个人资料信息包括但不限于个人身份信息、个人通讯信息、联系人信息、手机通讯录信息、通讯运营商详单中的电话或者短信联系人信息、工作信息、居住信息等。


      <h3 class="ag_title">第七条变更通知<br></h3>

      1.本协议签订之日起至借款全部清偿之日止，甲方有义务在下列信息变更三日内提供更新后的信息给乙方：
      1)甲方工作单位、居住地址、住所电话、手机号码、电子邮箱等；
      2)甲方家庭联系人或紧急联系人工作单位、居住地址、住所电话、手机号码等。

      2.因甲方不提供或不及时提供上述变更信息而导致乙方产生的损失，包括但不限于调整费用、仲裁费用及律师费用及委托其他公民仲裁所产生的差旅费用等，概由甲方承担。


      <h3 class="ag_title">第八条征信授权<br></h3>

      1.甲方知晓并同意乙方委托第三方征信机构，合法调查甲方的信息，包括但不限于个人基本信息、运营商信息、借贷交易信息、银行卡交易信息、电商交易信息、共用实业信息、央行征信报告。所获取的信息，仅在此笔借贷业务的居间服务和贷后管理工作中使用。乙方将对所获取的信息妥善进行保管，除为甲方提供信审服务/借款资金的合作方外，未经甲方授权，不得向其他机构或个人公开，编辑或透露信息内容。

      2.甲方知晓并同意乙方向第三方征信机构提交甲方在此笔借贷业务中产生的相关信息，包括但不限于个人基本信息、借款申请信息、借款合同信息以及还款行为信息，并记录在征信机构的个人信用信息数据库中。

      3.甲方同意若未按时履行还款义务，乙方按合同所留联系方式对甲方进行提醒并告知，甲方若仍未履行还款义务，乙方可将甲方的逾期还款信息提交至第三方征信机构，记录在征信机构的个人信用信息库中。

      4.甲方知晓并同意，甲方已被明确告知未按时还款信息一旦记录在第三方征信机构的个人信用数据库中，在日后的经济活动中对甲方可能产生不良影响。

      5.甲方保证其所提供的个人信息均为甲方本人的真实信息，不可为他人的信息或虚假信息，若涉嫌恶意信息作假或盗用他人信息，将可能计入网络征信系统，影响甲方的征信记录，同时乙方将保留追究甲方相应法律责任的权利。


      <h3 class="ag_title">第九条法律适用与管辖<br></h3>

      1.本协议适用于中国法律。

      2.双方一致同意，如发生争议，不论争议金额大小，均提交乙方所在当地人民法院诉讼解决。


      <h3 class="ag_title">第十条其他<br></h3>


      1.本协议及其附件的任何修改、补充协议与本协议具有同等法律效力。

      2.本协议采用电子文本形式，并保存在本平台为此设立的专用服务器备查，各方均认可该形式的协议效力，本协议的传真件、复印件和扫描件等副本的效力与本协议原件效力一致。

      3.本协议部分条款无效或不能履行，不影响其它条款的效力与履行。


    </div>

    <p class="pd100"></p>
    <div class="fix_btm_btn" @click="agreeLoan">已阅读并同意签署合同</div>
  </div>
  <!-- agreement_box -->
</template>

<script>
  export default {
    data() {
      return {
        quota: this.$route.query.quota,
        list: {},
        dateTime: '',
        nowTime:{
          year:null,
          month:null,
          date:null
        },
        newTime:{
          year:null,
          month:null,
          date:null
        },
        money:0,//借款金额
        quotas:0,//到期金额
        days: 7 , // 借款天数
        interest: 0 , // 借款利息
        account:0,//应还金额
      };
    },
    created() {
      this.getInfo()
      this.getInfoauth()
      this.dateTime = new Date().Format('yyyy-MM-dd')
      this.fun_date(7);
    },

    mounted() {
      console.log(this.quota);
    },
    computed: {
      userInfo() {
        return this.$store.state.userInfo;
      }
    },
    methods: {
      fun_date(aa){
        aa=aa*1-1;
        var date1 = new Date();
        this.nowTime.year=date1.getFullYear()
        this.nowTime.month=date1.getMonth()<10?'0'+(date1.getMonth()+1):date1.getMonth()+1
        this.nowTime.date=date1.getDate()
        var date2 = new Date(date1);
        date2.setDate(date1.getDate()+aa);
        this.newTime.year=date2.getFullYear()
        this.newTime.month=date2.getMonth()<10?'0'+(date2.getMonth()+1):date2.getMonth()+1
        this.newTime.date=date2.getDate()
      },
      getInfo() {
        this.$http({
          methods:'post',
          url:'/user/info'
        })
          .then((data) => {
            this.$vux.loading.hide()
            if(data.data.status === 0){
              this.$store.state.userInfo = data.data.data;
            } else {

            }
          });
      },
      getInfoauth(){
        var that =this
        that.$http({
          methods: 'post',
          url: 'auth/baseInfo',
          // params: {}
        }).then((res)=>{
          console.log(res.data)
          if (res.data.status === 0) {
            that.$vux.loading.hide()
            that.list = res.data.data
          }else{
            that.$vux.loading.hide()
            // this.$vux.alert({
            //     message: res.data.msg
            //   });
          }
        },(error) => {
          that.$vux.loading.hide()
          // this.$vux.alert({
          //   message: '获取数据出错(auth/infoauth)'
          // })
        })
      },
      agreeLoan() {
        var that = this;
        that.$http({
          methods: 'post',
          url: 'loan/apply',
          data: {
            money: that.quota
          }
        }).then((res) => {
          if (res.data.status == 0) {
            that.$vux.alert.show({
              title: '恭喜',
              content: '等待收款',
              onShow () {
                // console.log('Plugin: I\'m showing')
              },
              onHide () {
                // console.log('Plugin: I\'m hiding')
                // that.$router.push({path: '/loan/cash'})
                that.$router.push({path: '/'})
              }
            })
          } else {
            // that.$vux.alert.show({
            //   title: '温馨提示',
            //   content: res.data.msg,
            //   onShow () {

            //   },
            //   onHide () {
            //     // console.log('Plugin: I\'m hiding')
            //   }
            // })
          }

        },(error) => {
          // this.$vux.alert({
          //   message: '获取数据出错(loan/repaymentDetail)'
          // })
        })

      }
    }
  };
  Date.prototype.Format = function (fmt) { //author: meizz
    var o = {
      "M+": this.getMonth() + 1, //月份
      "d+": this.getDate(), //日
      "h+": this.getHours(), //小时
      "m+": this.getMinutes(), //分
      "s+": this.getSeconds(), //秒
      "q+": Math.floor((this.getMonth() + 3) / 3), //季度
      "S": this.getMilliseconds() //毫秒
    };
    if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
    for (var k in o)
      if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
    return fmt;
  }
</script>

<style lang="scss" scoped>
  .agreement_box {
    padding: 0 Px(25);
    .info_title{
      text-align: center;
      font-size: Px(30);
      color: #333;
      line-height: 2;
    }
    .ag_title {
      font-size: Px(24);
      line-height: 2;
    }
    .ag_content {
      padding: Px(30) Px(10);
      font-size: Px(22);
      line-height: 2;
      color: #333;
    }
    .article_center{
      font-size: Px(30);
      line-height: 1.6;
      color: #333;
      text-align: center;
    }
    .table_box{
      border-top: 1px solid #333;
      border-left: 1px solid #333;
      border-right: 1px solid #333;
      .table_box_item{
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        border-bottom: 1px solid #333;
        &:last-child{
          border-bottom: none;
        }
        &>span{
          padding: Px(10);
          display: flex;
          flex: 25%;
          font-size: Px(22);
          line-height: 1.6;
          border-right: 1px solid #333;
          &:last-child{
            border-right: none;
          }
        }
      }
    }
    .contract{
      display: flex;
      flex-direction: row;
      &>span{
        flex-basis: 50%;
        padding: Px(10);
        font-size: Px(22);
        line-height: 1.6;
      }
    }
    .ag_box{
      padding: 0 Px(-10) !important;
      border: 1px solid #333;
      .ag_item{
        display: flex;
        flex: 100%;
        flex-direction: row;
        flex-wrap: nowrap;
        &>span{
          padding: 0 Px(10);
          font-size: Px(22);
          line-height: 1.76;
          color: #333;
          flex-basis: 75%;
          border-right: 1px solid #333;
          &:first-child{
            flex-basis: 25%;
            border-right: 1px solid #333;
          }
          &:last-child{
            border-right: none;
          }
        }
      }
    }
    .mt30{
      margin-top: Px(30);
    }
    .border_top{
      border-top: 1px solid #333;
    }
    .pd10 {
      padding: Px(10);
    }
    .pd100{
      padding-bottom: Px(100);
    }
    .fix_btm_btn{
      position: fixed;
      left: 0;
      bottom: 0;
      width: 100%;
      height: Px(90);
      text-align: center;
      font-size: Px(24);
      line-height: Px(90);
      color: #fff;
      // background: -moz-linear-gradient(to bottom, #2e8fff, #2c69ff);
      // background: linear-gradient(to bottom, #2e8fff, #2c69ff);
      // background: -o-linear-gradient(to bottom, #2e8fff, #2c69ff);
      // background: -webkit-linear-gradient(to bottom, #2e8fff, #2c69ff);\
      @include main-back;
    }
  }
</style>

<style scoped>
  .txt_red {
    color: #f56c6c;
  }
</style>

